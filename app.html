<!DOCTYPE html>
<html>
<head>
  <title>Request</title>
</head>
<body>
  <h2>get points</h2>
  <button onclick="showLocation()">Show Encoding</button>

  <p id="output"></p>

  <script>
    let encodedLocation = null;

    const mapDigit = d => String.fromCharCode(97 + Number(d)); // 0=a, 1=b...

    function encodeNumber(num) {
      return num
        .toString()
        .split("")
        .map(ch => (/\d/.test(ch) ? mapDigit(ch) : ch)) // keep . and -
        .join("");
    }

    window.onload = () => {
      navigator.geolocation.getCurrentPosition(pos => {
        const lat = encodeNumber(pos.coords.latitude.toFixed(5));
        const lon = encodeNumber(pos.coords.longitude.toFixed(5));
        encodedLocation = lat + " | " + lon;
      });
    };

    function showLocation() {
      document.getElementById("output").innerText =
        encodedLocation ?? "Location not available";
    }
  </script>
</body>
</html>
